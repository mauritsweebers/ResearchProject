
📘 Unified Command Protocol – v2.8 (May 2025)

This protocol governs all data production, formatting, QA, and file handling in all phases of the Plant-Based System project.

---

📁 Directory Structure (SSOT)

All files must be organized into the following structure:
- `/ssot/phaseX/moduleY/data/` → for validated source data tables (DT)
- `/ssot/phaseX/moduleY/outputs/` → for all rendered outputs (TX, FG, HTML, IM)

No other subfolders (e.g., `text/`, `figures/`) are permitted unless explicitly authorized.

---

🚫 ZIP Archive Policy

- Do NOT submit `.zip` files as deliverables.
- All outputs must be submitted individually.
- Any `.zip` file found in SSOT will be rejected and removed.

Allowed output types:
- `DT` – Data Table
- `TX` – Text Output
- `FG` – Figure
- `IM` – Image
- `HTML` – Full synthesis (Command-only)
- ❌ `ZIP` – Not allowed

---

📤 Metadata Requirements

Each output must be accompanied by formatted metadata shown directly in the chat:

📤 Submission Metadata  
Index Code (Provisional): P1.M1.DT01  
Phase: 1  
Module: 1  
Type: DT (Data Table)  
Title/Description: Globally harmonized nutrient intake targets across demographic groups  
File Name: P1_M1_DT01_NutrientRequirements.csv  
Storage Location: /ssot/phase1/module1/data/  
Source Category: 🟢 A  
Notes: Includes energy, macronutrients, and micronutrient requirements across life stages.

Metadata visibility in the chat is mandatory for audit traceability.

---

🧾 Synthesis Format

- ✅ All final syntheses must be `.html` files rendered using the HTML Output Protocol
- ✅ Must include Tailwind CSS (`./tailwind.css`), `../SSOT/` image paths, and light/dark mode toggle

---

🕒 HTML Rendering Deferral (NEW)

- ❌ HTML synthesis must NOT be generated after individual modules
- ✅ HTML synthesis is permitted only after **full phase completion**
- ✅ Only Command may initiate `.html` rendering
- Rationale: ensures QA-reviewed and integrated content across modules

---

🛡️ Integrity Rule

📌 Command and Phase Chats must only return **complete and versioned protocols**.
- ❌ Do not submit protocol fragments or patch instructions
- ✅ Entire protocol documents must be reissued when updated

---

📌 Latest Version: v2.8  
Supersedes: v2.7, all prior command protocol updates
