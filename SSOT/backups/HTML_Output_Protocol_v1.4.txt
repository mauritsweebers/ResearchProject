
ğŸ“˜ HTML Output Protocol â€“ v1.4 (May 2025)

This protocol governs the generation of complete, export-ready `.html` phase synthesis reports, replacing v1.3.

---

ğŸ›  Required Files

1. âœ… `HTML_Rendering_Functions_PhaseOutput.py`
   - Contains parsing logic for headers, lists, tables, and line breaks
2. âœ… `Phase_HTML_Rendering_Pipeline.py`
   - Master renderer: loads all .txt/.csv/.svg files and injects HTML layout
3. âœ… `PhaseX_MasterSourceList.csv`
   - Used for building the "Appendix â€“ Source References" at the end of the page

---

ğŸ§± HTML Rendering Behavior

âœ… HTML Must:
- Render using Tailwind CSS from local file `./tailwind.css`
- Wrap all content in:
  ```html
  <div class="max-w-screen-lg mx-auto px-4 py-8">
  ```

âœ… Files Must Be:
- `.txt` â†’ Parsed and formatted using structured blocks:
  - `##` â†’ `<h3 class='text-lg font-semibold mt-6 mb-2'>`
  - `- ` â†’ `<ul class='list-disc'>`, numbered â†’ `<ol>`
  - `
` â†’ `<br>`, double-newline â†’ `<p>`
- `.csv` â†’ First 5 rows rendered using Tailwind-styled tables
- `.svg` or `.png` â†’ Embedded with path: `../SSOT/phaseX/moduleY/outputs/`

---

ğŸ“¥ Source Reference Integration

The file `PhaseX_MasterSourceList.csv` must be loaded and rendered as:
```html
<h2 class="text-2xl font-semibold mt-10 mb-4">Appendix â€“ Source References</h2>
<ul class='list-disc list-inside pl-6 mb-8'>
  <li><strong>[Source Name]</strong> ([Type]) â€“ <a href='[Link]' class='text-blue-600 underline'>[Link]</a></li>
</ul>
```

---

ğŸ§¾ Phase Summary Block (Mandatory)

Command must inject a phase-level summary (example from Phase 0):

```html
<h2 class='text-2xl font-semibold mt-10 mb-4'>Phase 0 Summary & Implications</h2>
<ul class='list-disc list-inside pl-6 mb-4'>
  <li><strong>Global Food Production:</strong> Dominated by top staples (rice, wheat, maize).</li>
  <li><strong>Food Loss:</strong> Significant in post-harvest and consumption stages.</li>
  ...
</ul>
<p><strong>Implications for Phase 1:</strong> Nutritional modeling must reflect available production data and regional limitations.</p>
```

This is inserted **immediately before** the Appendix.

---

ğŸ“„ Output Naming Convention

The `.html` file must be named:
```
PhaseX_FullSynthesis_Final_vX.X_WithSummary_FIXEDPATH.html
```
Placed in: `/OUTPUT/`

---

ğŸ“Œ Notes

- âŒ No `.txt` version of the synthesis is required
- âœ… All content must be renderable offline with `./tailwind.css` present
- âœ… Figures must be path-resolved using `../SSOT/...`

---

This is the authoritative rendering protocol for phase synthesis HTML. Replaces v1.3 and all earlier rendering instructions.

